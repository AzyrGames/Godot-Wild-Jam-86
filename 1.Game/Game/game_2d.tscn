[gd_scene load_steps=16 format=4 uid="uid://bw3votfvu4bw7"]

[ext_resource type="Script" uid="uid://b74ubmyligtxg" path="res://1.Game/Game/game_2d.gd" id="1_hbmr2"]
[ext_resource type="PackedScene" uid="uid://caa43fkynpx52" path="res://2.Object/ConcreteObject/Entity/Character/entity_character_player.tscn" id="3_7mnxe"]
[ext_resource type="Script" uid="uid://d24d0yuf64ws7" path="res://3.System/PlayerSwitcher/player_switcher.gd" id="3_8a5g4"]
[ext_resource type="Script" uid="uid://cacxmmyur2858" path="res://3.System/GameCamera/game_camera_2d.gd" id="3_d4v4r"]
[ext_resource type="PackedScene" uid="uid://bnv7r0f8ypqrw" path="res://2.Object/ConcreteObject/Entity/Ghost/entity_character_ghost.tscn" id="4_my75u"]
[ext_resource type="Texture2D" uid="uid://dka3hcrfntae0" path="res://8.Asset/2D/texture_tileset_ghostmask.png" id="7_la1kc"]
[ext_resource type="Script" uid="uid://byu0ya1xhnbrd" path="res://2.Object/ConcreteObject/game_object_mask.gd" id="8_murlr"]
[ext_resource type="PackedScene" uid="uid://dpggt20oh3t7o" path="res://4.Level/Map/Map1/map_1.tscn" id="9_k3eo0"]
[ext_resource type="PackedScene" uid="uid://dqsj6qfx5mxds" path="res://4.Level/Component/ocean_background.tscn" id="9_murlr"]
[ext_resource type="Shader" uid="uid://188xc3mv7l64" path="res://5.Resouces/Shader/ghost_shader.gdshader" id="10_k3eo0"]
[ext_resource type="Texture2D" uid="uid://5t2v3le1j7sw" path="res://8.Asset/2D/texture_ghost_TLUT.png" id="11_wdgkn"]
[ext_resource type="Script" path="res://2.Object/ConcreteObject/ghost_filter.gd" id="12_kg0ya"]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_k3eo0"]
texture = ExtResource("7_la1kc")
texture_region_size = Vector2i(20, 20)
0:0/0 = 0
0:0/0/metadata/_better_terrain = {
0: [0],
4: [0],
&"symmetry": 7,
&"type": 0
}
1:0/0 = 0
1:0/0/metadata/_better_terrain = {
0: [0],
4: [0],
8: [0],
&"symmetry": 7,
&"type": 0
}
2:0/0 = 0
2:0/0/metadata/_better_terrain = {
&"type": 0
}
0:1/0 = 0
0:1/0/metadata/_better_terrain = {
0: [0],
&"symmetry": 7,
&"type": 0
}
1:1/0 = 0
1:1/0/metadata/_better_terrain = {
0: [0],
8: [0],
&"symmetry": 4,
&"type": 0
}
2:1/0 = 0
2:1/0/metadata/_better_terrain = {
0: [0],
4: [0],
8: [0],
12: [0],
&"type": 0
}
0:2/0 = 0
0:2/0/metadata/_better_terrain = {
&"symmetry": 0,
&"type": 1
}
0:3/0 = 0
0:3/0/metadata/_better_terrain = {
0: [1],
4: [1],
8: [1],
&"symmetry": 0,
&"type": 1
}
1:3/0 = 0
1:3/0/metadata/_better_terrain = {
4: [1],
8: [1],
12: [1],
&"symmetry": 0,
&"type": 1
}
2:3/0 = 0
2:3/0/metadata/_better_terrain = {
0: [1],
8: [1],
&"type": 1
}
2:2/0 = 0
2:2/0/metadata/_better_terrain = {
4: [1],
12: [1],
&"type": 1
}
1:2/0 = 0
1:2/0/metadata/_better_terrain = {
0: [1],
4: [1],
8: [1],
12: [1],
&"symmetry": 0,
&"type": 1
}
0:4/0 = 0
0:4/0/metadata/_better_terrain = {
0: [1],
4: [1],
12: [1],
&"type": 1
}
1:4/0 = 0
1:4/0/metadata/_better_terrain = {
0: [1],
8: [1],
12: [1],
&"type": 1
}
3:4/0 = 0
3:4/0/metadata/_better_terrain = {
12: [1],
&"type": 1
}
4:4/0 = 0
4:4/0/metadata/_better_terrain = {
8: [1],
&"type": 1
}
4:3/0 = 0
4:3/0/metadata/_better_terrain = {
4: [1],
&"type": 1
}
4:1/0 = 0
4:1/0/metadata/_better_terrain = {
8: [1],
12: [1],
&"type": 1
}
3:1/0 = 0
3:1/0/metadata/_better_terrain = {
0: [1],
12: [1],
&"type": 1
}
3:0/0 = 0
3:0/0/metadata/_better_terrain = {
0: [1],
4: [1],
&"type": 1
}
4:0/0 = 0
4:0/0/metadata/_better_terrain = {
4: [1],
8: [1],
&"type": 1
}
3:3/0 = 0
3:3/0/metadata/_better_terrain = {
0: [1],
&"type": 1
}

[sub_resource type="TileSet" id="TileSet_wdgkn"]
tile_size = Vector2i(20, 20)
sources/0 = SubResource("TileSetAtlasSource_k3eo0")
metadata/_better_terrain = {
&"decoration": ["Decoration", Color(0.4117647, 0.4117647, 0.4117647, 1), 3, [], {
&"path": "res://addons/better-terrain/icons/Decoration.svg"
}],
&"terrains": [["Mask", Color(0.95331514, 0.61756283, 0.87212884, 1), 0, [2], {
&"coord": Vector2i(2, 0),
&"source_id": 0
}], ["Oversize", Color(0.52453804, 0.31958008, 0.9296875, 1), 0, [2], {
&"coord": Vector2i(2, 2),
&"source_id": 0
}], ["AnyMask", Color(0.082112476, 0.76091826, 0.7698478, 1), 2, [], {
&"coord": Vector2i(2, 1),
&"source_id": 0
}]],
&"version": "0.2"
}

[sub_resource type="ShaderMaterial" id="ShaderMaterial_wdgkn"]
shader = ExtResource("10_k3eo0")
shader_parameter/color_lut = ExtResource("11_wdgkn")

[node name="Game2d" type="Node2D" node_paths=PackedStringArray("current_game_map")]
script = ExtResource("1_hbmr2")
current_game_map = NodePath("Map1")
metadata/_custom_type_script = "uid://b74ubmyligtxg"

[node name="OceanBackground" parent="." instance=ExtResource("9_murlr")]

[node name="Parallax2D2" type="Parallax2D" parent="."]
scroll_scale = Vector2(0, 0)

[node name="Polygon2D" type="Polygon2D" parent="Parallax2D2"]
visible = false
z_index = -1
color = Color(0, 0, 0, 0.58431375)
polygon = PackedVector2Array(-408, -679, 1115, -659, 1198, 540, -411, 485)
script = ExtResource("12_kg0ya")

[node name="GameCamera" type="Camera2D" parent="." node_paths=PackedStringArray("follow_target_node")]
physics_interpolation_mode = 1
position = Vector2(240, -138)
position_smoothing_enabled = true
position_smoothing_speed = 4.0
editor_draw_limits = true
script = ExtResource("3_d4v4r")
follow_target_node = NodePath("../PlayerSwitcher/EntityCharacterPlayer")
metadata/_custom_type_script = "uid://cacxmmyur2858"

[node name="GhostMask" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("AAAhAAUAAAACAAEAAAAgAAUAAAACAAEAAAAgAAYAAAABAAAAADAhAAYAAAABAAAAADAiAAYAAAABAAAAADAiAAUAAAACAAEAAAAiAAQAAAACAAEAAAAhAAQAAAACAAEAAAAgAAQAAAACAAEAAAAfAAQAAAABAAAAAGAfAAUAAAABAAAAAGAfAAYAAAAAAAAAAGAfAAMAAAAAAAAAAAAgAAMAAAABAAAAAAAhAAMAAAABAAAAAAAiAAMAAAABAAAAAAAjAAMAAAAAAAAAAFAjAAQAAAABAAAAAFAjAAUAAAABAAAAAFAjAAYAAAAAAAAAADAkAAYAAAADAAEAAAAkAAUAAAAAAAQAAAAkAAQAAAAAAAQAAAAkAAMAAAAAAAQAAAAkAAIAAAABAAIAAAAjAAIAAAABAAQAAAAiAAIAAAABAAQAAAAhAAIAAAABAAQAAAAgAAIAAAABAAQAAAAfAAIAAAADAAEAAAAfAAEAAAADAAAAAAAgAAEAAAAAAAMAAAAhAAEAAAAAAAMAAAAiAAEAAAAAAAMAAAAjAAEAAAAAAAMAAAAkAAEAAAAAAAMAAAAlAAEAAAAEAAAAAAAlAAIAAAABAAMAAAAlAAMAAAABAAMAAAAlAAQAAAABAAMAAAAlAAUAAAABAAMAAAAlAAYAAAAEAAEAAAA=")
tile_set = SubResource("TileSet_wdgkn")
script = ExtResource("8_murlr")

[node name="PlayerSwitcher" type="Node2D" parent="." node_paths=PackedStringArray("character_platformer", "character_ghost")]
script = ExtResource("3_8a5g4")
character_platformer = NodePath("EntityCharacterPlayer")
character_ghost = NodePath("EntityCharacterGhost")

[node name="EntityCharacterGhost" parent="PlayerSwitcher" instance=ExtResource("4_my75u")]
position = Vector2(70, -140)

[node name="EntityCharacterPlayer" parent="PlayerSwitcher" instance=ExtResource("3_7mnxe")]
position = Vector2(60, -55)
active = true

[node name="Map1" parent="." instance=ExtResource("9_k3eo0")]

[node name="Parallax2D" type="Parallax2D" parent="."]
scroll_scale = Vector2(0, 0)

[node name="Polygon2D" type="Polygon2D" parent="Parallax2D"]
visible = false
material = SubResource("ShaderMaterial_wdgkn")
polygon = PackedVector2Array(-408, -679, 1115, -659, 1198, 540, -411, 485)
script = ExtResource("12_kg0ya")
